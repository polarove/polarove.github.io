import{a8 as h,u as g,L as P,f as L,o as R}from"./D08xvfWJ.js";const w={__name:"locale-redirect",setup(_){const o=h(),{$getLocales:f,$defaultLocale:d}=g(),r=f().map(e=>e.code),c=d()||"en",s=o.fullPath.split("/"),l=s[1],m=e=>e.slice(1).map(t=>t.replace(/:/g,"")).join("-"),p=e=>e.filter(t=>t&&t.trim()!=="").slice(1).map(t=>t.replace(/:/g,"")).join("-"),i=m(s),u=p(s),a=o.meta.globalLocaleRoutes??{},n=e=>{window.history.replaceState(null,"",e),location.assign(e)};if(a&&a[i]){const e=a[i];if(e&&e[c]){const t=e[c];o.fullPath!==t&&n(t)}}else if(r.includes(l))if(r.includes(l)&&a&&a[u]){const e=a[u];if(e&&e[l]){const t=`/${l}${e[l]}`;o.fullPath!==t&&n(t)}}else throw P({statusCode:404});else{const e=`/${c}${o.fullPath}`;o.fullPath!==e&&n(e)}return(e,t)=>(R(),L("div"))}};export{w as default};
