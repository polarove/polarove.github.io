import{b as G}from"./BgDKMDVR.js";import{_ as W}from"./CZ5PJGHi.js";import{_ as q}from"./BZ5Q1VMr.js";import{c as B,y as J,z as $,A as y,B as Q,C as X,D as Y,E as Z,G as K,H as k,r as A,I as E,J as ee,K as ae,L as te,k as H,M as ne,d as se,u as re,a as ce,N as ie,i as S,w as b,O as le,o as C,h as V,f as N,F as T,s as M,q as j,t as x}from"./Cp5GOPPH.js";const ue={trailing:!0};function oe(e,a=25,l={}){if(l={...ue,...l},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let c,t,i=[],n,D;const d=(h,s)=>(n=de(e,h,s),n.finally(()=>{if(n=null,l.trailing&&D&&!t){const v=d(h,D);return D=null,v}}),n);return function(...h){return n?(l.trailing&&(D=h),n):new Promise(s=>{const v=!t&&l.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const o=l.leading?c:d(this,h);for(const f of i)f(o);i=[]},a),v?(c=d(this,h),s(c)):i.push(s)})}}async function de(e,a,l){return await e.apply(a,l)}const fe=Symbol.for("nuxt:client-only"),_e=e=>e==="defer"||e===!1;function me(...e){var f;const a=typeof e[e.length-1]=="string"?e.pop():void 0;he(e[0],e[1])&&e.unshift(a);let[l,c,t={}]=e;const i=B(()=>J(l));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=$();t.server??(t.server=!0),t.default??(t.default=De),t.getCachedData??(t.getCachedData=z),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=y.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,n._asyncData[i.value];const D={cause:"initial",dedupe:t.dedupe};(f=n._asyncData[i.value])!=null&&f._init||(D.cachedData=t.getCachedData(i.value,n,{cause:"initial"}),n._asyncData[i.value]=F(n,i.value,c,t,D.cachedData));const d=n._asyncData[i.value];d._deps++;const h=()=>n._asyncData[i.value].execute(D),s=t.server!==!1&&n.payload.serverRendered;{let r=function(_){const m=n._asyncData[_];m!=null&&m._deps&&(m._deps--,m._deps===0&&(m==null||m._off()))};const u=Q();if(u&&s&&t.immediate&&!u.sp&&(u.sp=[]),u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const _=u._nuxtOnBeforeMountCbs;X(()=>{_.forEach(m=>{m()}),_.splice(0,_.length)}),Y(()=>_.splice(0,_.length))}const g=u&&(u._nuxtClientOnly||Z(fe,!1));s&&n.isHydrating&&(d.error.value||d.data.value!=null)?(d.pending.value=!1,d.status.value=d.error.value?"error":"success"):u&&(!g&&n.payload.serverRendered&&n.isHydrating||t.lazy)&&t.immediate?u._nuxtOnBeforeMountCbs.push(h):t.immediate&&h();const p=ne(),I=K([i,...t.watch||[]],([_],[m])=>{var O,R;if((_||m)&&_!==m){const U=((O=n._asyncData[m])==null?void 0:O.data.value)!==y.value;m&&r(m);const P={cause:"initial",dedupe:t.dedupe};(R=n._asyncData[_])!=null&&R._init||(P.cachedData=t.getCachedData(_,n,{cause:"initial"}),n._asyncData[_]=F(n,_,c,t,P.cachedData)),n._asyncData[_]._deps++,(t.immediate||U)&&n._asyncData[_].execute(P)}else d._execute({cause:"watch",dedupe:t.dedupe})},{flush:"sync"});p&&k(()=>{I(),r(i.value)})}const v={data:w(()=>{var r;return(r=n._asyncData[i.value])==null?void 0:r.data}),pending:w(()=>{var r;return(r=n._asyncData[i.value])==null?void 0:r.pending}),status:w(()=>{var r;return(r=n._asyncData[i.value])==null?void 0:r.status}),error:w(()=>{var r;return(r=n._asyncData[i.value])==null?void 0:r.error}),refresh:(...r)=>n._asyncData[i.value].execute(...r),execute:(...r)=>n._asyncData[i.value].execute(...r),clear:()=>L(n,i.value)},o=Promise.resolve(n._asyncDataPromises[i.value]).then(()=>v);return Object.assign(o,v),o}function w(e){return B({get(){var a;return(a=e())==null?void 0:a.value},set(a){const l=e();l&&(l.value=a)}})}function he(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function L(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=y.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=y.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function ve(e,a){const l={};for(const c of a)l[c]=e[c];return l}function F(e,a,l,c,t){var v;(v=e.payload._errors)[a]??(v[a]=y.errorValue);const i=c.getCachedData!==z,n=l,D=c.deep?A:E,d=t!=null,h=e.hook("app:data:refresh",async o=>{(!o||o.includes(a))&&await s.execute({cause:"refresh:hook"})}),s={data:D(d?t:c.default()),pending:E(!d),error:ee(e.payload._errors,a),status:E("idle"),execute:(o={})=>{if(e._asyncDataPromises[a]){if(_e(o.dedupe??c.dedupe))return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if(o.cause==="initial"||e.isHydrating){const r="cachedData"in o?o.cachedData:c.getCachedData(a,e,{cause:o.cause??"refresh:manual"});if(r!=null)return e.payload.data[a]=s.data.value=r,s.error.value=y.errorValue,s.status.value="success",Promise.resolve(r)}s.pending.value=!0,s.status.value="pending";const f=new Promise((r,u)=>{try{r(n(e))}catch(g){u(g)}}).then(async r=>{if(f.cancelled)return e._asyncDataPromises[a];let u=r;c.transform&&(u=await c.transform(r)),c.pick&&(u=ve(u,c.pick)),e.payload.data[a]=u,s.data.value=u,s.error.value=y.errorValue,s.status.value="success"}).catch(r=>{if(f.cancelled)return e._asyncDataPromises[a];s.error.value=te(r),s.data.value=H(c.default()),s.status.value="error"}).finally(()=>{f.cancelled||(s.pending.value=!1,delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=f,e._asyncDataPromises[a]},_execute:oe((...o)=>s.execute(...o),0,{leading:!0}),_default:c.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var o;h(),(o=e._asyncData[a])!=null&&o._init&&(e._asyncData[a]._init=!1),i||ae(()=>{var f;(f=e._asyncData[a])!=null&&f._init||(L(e,a),s.execute=()=>Promise.resolve(),s.data.value=y.value)})}};return s}const De=()=>y.value,z=(e,a,l)=>{if(a.isHydrating)return a.payload.data[e];if(l.cause!=="refresh:manual"&&l.cause!=="refresh:hook")return a.static.data[e]},we=se({__name:"index",async setup(e){let a,l;const{ts:c,localePath:t}=re();ce({title:c("title",{name:c("name")}),description:c("description")});const{data:i}=([a,l]=ie(()=>me("fetchContentNavigation",()=>fetchContentNavigation())),a=await a,l(),a),n=B(()=>{var s;const d=(s=i.value)==null?void 0:s.filter(v=>t(le().currentRoute.value.path).startsWith(v._path));if(d==null||d.length<=0)return[];const h=d[0];return h.children==null?[]:h.children[0].children}),D=[{path:"/",translateKey:"home",icon:"mdi:home"},{path:"/resume",translateKey:"resume",icon:"mdi:script-text"},{path:"/projects",translateKey:"project",icon:"mdi:file-code-outline"},{path:"/articles",translateKey:"article",icon:"mdi:file-document-edit-outline"}];return(d,h)=>{const s=G,v=W,o=q;return C(),S(o,{routes:D},{default:b(()=>[V(v,{class:"mt-32 ma-auto xl:w-45vw md:w-67vw sm:w-82vw lt-sm:w-82vw p-12"},{default:b(()=>[(C(!0),N(T,null,M(H(n),(f,r)=>{var u;return C(),N("div",{key:r},[V(s,{class:"color-inherit decoration-none text-4xl py-4 block hover:color-[--primary]",to:f._path},{default:b(()=>[j(x(f.title),1)]),_:2},1032,["to"]),(C(!0),N(T,null,M((u=f.children)==null?void 0:u.filter(g=>g._path!==f._path),(g,p)=>(C(),S(s,{key:p,class:"color-inherit decoration-none block hover:color-[--primary] hover:bg-[--background-page-light] py-2 px-4 rounded",to:g._path},{default:b(()=>[j(x(g.title),1)]),_:2},1032,["to"]))),128))])}),128))]),_:1})]),_:1})}}});export{we as default};
